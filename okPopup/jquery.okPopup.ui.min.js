(function(b){function h(a){return{height:a.height(),width:a.width(),top:a.offset().top-b(window).scrollTop(),left:a.offset().left-b(window).scrollLeft()}}b.okPopup.ui={imageZoom:function(a){var d,e,f;a=b.extend({parent:"#ui-overlay",durationIn:300,durationOut:200,easingIn:"swing",easingOut:"swing",loadingTemplate:"<div class='ui-loading'></div>"},a);return{parent:a.parent,openEvent:"click",modal:"click",onOpen:function(g,c){g.preventDefault();if(g.shiftKey||g.ctrlKey||g.metaKey||g.altKey)return!0;
d=b(g.currentTarget).imagesLoaded(function(){f.fadeOut("fast",function(){f.remove()});var j;c.html("<img src='"+d.attr("href")+"' alt=''/>");e=d.children();f.is(":visible")&&f.fadeOut("fast",function(){f.remove()});c.overlay.show();j=b.positionAt(c,c.overlay,"center");c.open(g).css(b.extend({position:"absolute"},h(e))).find("img").css({width:"100%"});c.animate(j,a.durationIn,a.easingIn)});f=b(a.loadingTemplate).appendTo("body").positionAt(c.overlay,"center").fadeIn()},onClose:function(f,c){return c.animate(b.extend({opacity:"hide"},
h(e)),a.durationOut,a.easingOut,function(){b(this).css({width:"",height:""}).hide();c.close()})}}},gallery:function(a){a=b.extend({resize:!0,animate:!0,duration:3E3,cycleOptions:["caption","navigation"]},a);var d="";this.children().each(function(){var a=b(this).find("a").attr("href");d+="<li><img src='"+a+"' alt='' /></li>"});d="<ul>"+d+"</ul>";return{openEvent:"click",openEffect:"fadeIn",parent:"body",closeEffect:"fadeOut",modal:"click",template:function(){var e=b("<div class='ui-popup slideshow-container'><header><a class='close' href='#'>Close</a></header><div class='content'>"+
d+"</div></div>");e.find("li:first img").imagesLoaded(function(){e.show().css({position:"absolute",left:"-9999em"});b("ul",e).okCycle({effect:"fade",duration:a.duration,preload:!1,ui:a.cycleOptions});e.hide()});return e},where:{location:"center",constrain:!1},onClose:function(a,b){a.preventDefault();return b.add(b.overlay).fadeOut(function(){b.close(a)})}}}}})(jQuery);
