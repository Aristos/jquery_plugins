(function(d){d.okPopup.ui={imageZoom:function(c){function h(b){return{height:b.height(),width:b.width(),top:b.offset().top-d(window).scrollTop(),left:b.offset().left-d(window).scrollLeft()}}var g,j,a;c=d.extend({parent:"#ui-overlay",durationIn:300,durationOut:200,easingIn:"swing",easingOut:"swing",loadingTemplate:"<div class='ui-loading'></div>"},c);return{parent:c.parent,openEvent:"click",modal:"click",onOpen:function(b,e){b.preventDefault();if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!0;
g=d(b.currentTarget).imagesLoaded(function(){a.fadeOut("fast",function(){a.remove()});var f;e.html("<img src='"+g.attr("href")+"' alt=''/>");j=g.children();a.is(":visible")&&a.fadeOut("fast",function(){a.remove()});e.overlay.show();f=d.positionAt(e,e.overlay,"center");e.open(b).css(d.extend({position:"absolute"},h(j))).find("img").css({width:"100%"});e.animate(f,c.durationIn,c.easingIn)});a=d(c.loadingTemplate).appendTo("body").positionAt(e.overlay,"center").fadeIn()},onClose:function(b,a){return a.animate(d.extend({opacity:"hide"},
h(j)),c.durationOut,c.easingOut,function(){d(this).css({width:"",height:""}).hide();a.close()})}}},gallery:function(c){function h(a,b){a.preventDefault();return b.add(b.overlay).fadeOut(function(){b.close(a)})}c=d.extend({resize:!0,animate:!0,duration:3E3,cycleOptions:["caption","navigation"],slideshow:function(){var a="";this.children().each(function(){var b=d(this).find("a").attr("href");a+="<li><img src='"+b+"' alt='' /></li>"});return a}},c);var g,j=this;return{parent:"body",openEvent:"click",
openEffect:"fadeIn",closeEffect:"fadeOut",modal:"click",where:{location:"centerViewport",constrain:!0,useScrollTop:!1},onOpen:function(a,b){var c=d(a.target).closest("li"),c=c.parent().children().index(c);g.moveTo(c);b.open(a).css({position:"fixed"}).find(".close").one("click",function(a){h(a,b)})},onClose:h,template:function(){var a=d("<div class='ui-popup slideshow-container'><a class='close' href='#'>Close</a><ul class='ui-slides'>"+c.slideshow.call(j)+"</ul></div>");a.find("li:first img").imagesLoaded(function(){a.css({position:"absolute",
left:"-9999em"}).show();d("ul",a).okCycle({effect:"fade",duration:c.duration,preload:!1,ui:c.cycleOptions,beforeMove:function(b){b=b.to;var e=b.children().clone().appendTo("body").css({position:"absolute",left:"-9999em",width:"auto",height:"auto"}),f=d.positionAt(e,"body",{location:"centerViewport",constrain:!0,useScrollTop:!1});e.remove();b.find("img").css({height:"100%",width:"auto"});a.animate({width:f.width,height:f.height,top:f.top,left:f.left},500,c.easing).find("ul.ui-slides").animate({width:f.width,
height:f.height})},afterSetup:function(){window.slideshow=g=this}});a.hide().find("li").css({height:"100%"})});return a}}}}})(jQuery);
