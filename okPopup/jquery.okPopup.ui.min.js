$.okPopup.ui={imageZoom:function(c){function i(b,a){var g;a.html("<img src='"+f.attr("href")+"' alt=''/>");d=f.children();e.is(":visible")&&e.fadeOut("fast",function(){e.remove()});a.overlay.show();g=$.positionAt(a,a.overlay,"center");a.open(b).css($.extend({position:"absolute"},h())).find("img").css({width:"100%"});a.animate(g,c.durationIn,c.easingIn)}function h(){return{height:d.height(),width:d.width(),top:d.offset().top-$(window).scrollTop(),left:d.offset().left-$(window).scrollLeft()}}var f,
d,e,c=$.extend({parent:"#ui-overlay",durationIn:300,durationOut:200,easingIn:"swing",easingOut:"swing",loadingTemplate:"<div class='ui-loading'></div>"},c);return{parent:c.parent,openEvent:"click",modal:"click",onOpen:function(b,a){var d=new Image;b.preventDefault();if(b.shiftKey||b.ctrlKey||b.metaKey||b.altKey)return!0;f=$(b.currentTarget);d.onload=function(){e.fadeOut("fast",function(){e.remove()});i(b,a)};e=$(c.loadingTemplate).appendTo("body").positionAt(a.overlay,"center").fadeIn();d.src=f.attr("href")},
onClose:function(b,a){return a.animate($.extend({opacity:"hide"},h()),c.durationOut,c.easingOut,function(){$(this).css({width:"",height:""}).hide();a.close()})}}}};
