(function(a){a.okPopup.ui={tooltip:function(){return{onInit:function(a){a.css({position:"absolute"}).addClass("tooltip")},openWhen:"mouseenter element",closeWhen:"mouseleave element",transition:"bubblePuff",location:{position:{y:"top",x:"center"},registration:{y:"bottom",x:"center"},offset:{top:-5},relativeTo:"element"},content:function(a,e){return e.data("content")}}},modal:function(c){c.filters||(c.filters={});c.filters=a.extend(!0,{video:{matcher:/(vimeo|youtube)/,content:function(a){var d=this.data("width")||
900,b=this.data("height")||504;return'<iframe src="'+a+'?autoplay=1" width="'+d+'" height="'+b+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'}},image:{matcher:/.*\.(jpe?g|gif|png)$/,content:function(a){var d=this.data("width")||"",b=this.data("height")||"";return"<img src='"+a+"' width='"+d+"' height='"+b+"' alt='' />"}}},c.filters);return{openWhen:"click element",closeWhen:"click .ui-modal .ui-close",content:function(e,d){var b="";a.each(c.filters,function(a,
f){if("function"==typeof f.matcher?f.matcher.call(d):f.matcher.test(d.attr("href")))return b=f.content.call(d,d.attr("href")),!1});return a(b)},onInit:function(e,d){e.css({position:"fixed"}).addClass("responsive modal");var b=a("#ui-overlay");0===b.length&&(b=a("<div id='ui-overlay' class='ui-overlay' />").appendTo("body").hide());b.click(function(){e.close()});e.overlay=b;a.okPopup.resizeEventBound||(a(window).resize(function(){a(".ui-popup.responsive:visible").each(function(){var b=a(this);b.positionAt(a.extend(d.location,
b.data("dimensions")))})}),a.okPopup.resizeEventBound=!0)},onOpen:function(e,d){var b=d.content,c;e.overlay.show();(c=e.find(".ui-content")).length&&c.remove();e.append(b.addClass("ui-content").hide()).stop(!0,!0);d.done(function(){var f;a.measure(b,function(){f={width:b.attr("width")||b.width(),height:b.attr("height")||b.height()};e.data("dimensions",f)});b.is("img")?b.css(f.width<=f.height?{height:"100%",width:"auto"}:{width:"100%",height:"auto"}):b.attr({width:"100%",height:"100%"})});return d.then(function(){return a.positionAt(e,
a.extend(e.data("dimensions"),d.options.location))})},onClose:function(a){a.find(".ui-content").remove();a.overlay.fadeOut()},template:"<div class='ui-modal'><header><a href='#' class='ui-close'>Close</a></header></div>",transition:"grow",location:{relativeTo:window,constrain:!0,margin:10}}},gallery:function(c){function e(a,d,e){a.preventDefault();var c=g.index(b);e?c--:c++;a.currentTarget=b=g.eq(0>c?g.length-1:c>=g.length?0:c);d.open(a)}var d,b,g=this;c=a.okPopup.ui.modal(c);d=c.onInit;return a.extend(c,
{onInit:function(b,c){var g=function(a){e(a,b)},h=function(a){e(a,b,!0)};d(b,c);a("<nav><a class='ui-prev prev' href='#'>Previous</a><a class='ui-next next' href='#'>Next</a></nav>").appendTo(b);a(".ui-prev",b).click(h);a(".ui-next",b).click(g);b.extend({nextItem:g,prevItem:h})}})}}})(jQuery);
