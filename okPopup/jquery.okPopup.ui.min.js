$.okPopup.ui={imageZoom:function(d){function j(a,b){var g,h;b.html("<img src='"+e.attr("href")+"' alt=''/>");c=e.children();f.is(":visible")&&f.fadeOut("fast",function(){f.remove()});g={height:c.height(),width:c.width(),top:c.offset().top,left:c.offset().left,position:"absolute"};b.overlay.show();h=$.positionAt(b,e,"center");b.bind("click",function(a){i(a,b)}).open(a).css(g).find("img").css({width:"100%"});b.animate(h,d.durationIn,d.easingIn)}function i(a,b){b.unbind("click");return b.animate({top:c.offset().top,
left:c.offset().left,opacity:"hide",width:1,height:1},d.durationOut,d.easingOut,function(){$(this).css({width:"",height:""}).hide();b.close()})}var e,c,f,d=$.extend({durationIn:300,durationOut:200,easingIn:"swing",easingOut:"swing",loadingTemplate:"<div class='ui-loading'></div>"},d);return{openEvent:"click",modal:"click",onOpen:function(a,b){var c=new Image;a.preventDefault();if(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)return!0;e=$(a.currentTarget);c.onload=function(){f.fadeOut("fast",function(){f.remove()});
j(a,b)};f=$(d.loadingTemplate).appendTo("body").positionAt(e,"center").fadeIn();c.src=e.attr("href")},onClose:i}}};
