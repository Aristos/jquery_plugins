<!doctype html>
<!--[if lt IE 7]><html class="ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]><html class="ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]><html class="ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>okPopup</title>
  <meta name="description" content="okPopup - jquery content display plugin">
  <meta name="author" content="okbreathe">
  <link href="screen.css" rel="stylesheet" type="text/css" media="screen">
  <link href="okPopup.css" rel="stylesheet" type="text/css" media="screen">
  <!--[if lt IE 9]>
    <script src="http://ie7-js.googlecode.com/svn/version/2.1(beta4)/IE9.js"></script>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
  <script src="jquery.basicPosition.js"></script>
  <script src="jquery.okPopup.core.js"></script>
  <script src="jquery.okPopup.effects.js"></script>
</head>
<body>

  <div id="doc">
    <header>
      <h1>okPopup</h1>
    </header>

    <article id="main" class='container'>
      <section class='twelve'>
        <h3>Tooltips</h3>
        <p>
          <a class='tip' href='#' data-content="Tooltip One">Hover Me</a>
          <br/>
          <br/>
          <a class='tip' href='#' data-content="Tooltip Two">Hover Me</a>
          <br/>
          <br/>
          <a class='tip' href='#' data-content="Tooltip Three">Hover Me</a>
        </p>
        <script>
          $(".tip").okPopup({
            show        : 'mouseenter',
            hide        : 'mouseleave',
            openEffect  : 'fadeIn',
            closeEffect : 'fadeOut' ,
            where       : 'elementTop',
            content     : function(e){ return $(e.currentTarget).data('content'); }
          }).addClass('tooltip');
        </script>

        <h3>Modal Windows</h3>
        <p>
          <a id='example-2' href='#' data-content="I'm a modal window!">Click Me</a>
        </p>
        <script>

          $("#example-2").okPopup({
            show        : 'click',
            where       : 'center',
            openEffect  : 'fadeIn',
            closeEffect : 'fadeOut',
            modal       : 'click',
            content   : function(e){ return $(e.currentTarget).data('content'); }
          }).addClass('modal');

        </script>

        <h3>Notifications</h3>
        <p>
          <a id='example-3' href='#' data-content="I'm a notification!">Add a regular notification</a>
        </p>
        <script>

          $("#example-3").on('click',function(e){
            e.preventDefault();
            var notification = $.okPopup.create($(this),{ 
              // show     : 'click', // By ommitting the show property, we won't bind any events
              openEffect  : 'fadeIn',
              // closeEffect : 'fadeOut', // Unnecessary as we haven't bound any events
              parent      : "#notification-queue", // Set the parent to a specific element
              content     : function(e){ return $(e.currentTarget).data('content'); }
            })
            .addClass('notification')
            .open(e);

            setTimeout(function() {
              notification.fadeOut(function(){
                notification.remove();
              });
            }, 3000);

          });
        </script>

        <h3>Images</h3>
        <a id='example-4' href='../shared/images/one.png' ><img src='../shared/images/thumbs/one.png' alt='' /></a>
        <script>
          var self = $("#example-4");

          self.okPopup({
            show      : 'click',
            modal     : 'click',
            onOpen    : function(e,popup) {

              popup.html("<img src='"+ $(e.currentTarget).attr('href')+"' alt=''/>");

              function open(){
                var initialCss = { height: self.height(), width: self.width(), top: self.offset().top, left: self.offset().left, position: 'absolute' },
                    finalCss = $.positionAt(popup, e.currentTarget, 'magnify');

                popup.open(e); // Show the modal and popup

                // Do our custom animation
                popup.css(initialCss).find('img').css({ width: '100%' });

                return popup.animate(finalCss, 300, 'swing');
              }

              popup
              .children()
                .one("load", open)
                .each(function(){
                  if(popup.children()[0].complete) {
                    popup.trigger("load");
                  }
                });
            },
            onClose : function(e,popup) {
              return popup.animate({
                top     : self.offset().top,
                left    : self.offset().left,
                opacity : "hide",
                width   : 1,
                height  : 1
              }, 200, 'swing', function(){
                $(this).css({width:'',height:''}).hide();
                popup.close();
              });
            }
          });
        </script>
      </section>
    </article>

    <div id='notification-queue'></div>

    <footer>
      <h1><a href='http://okbreathe.com'>okbreathe</a></h1>
    </footer>
  </div> <!-- #doc -->

</body>
</html>
