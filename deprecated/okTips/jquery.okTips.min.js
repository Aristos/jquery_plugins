(function(c){c.fn.togglePuff=function(a,i){a=c.extend({distance:10,effectTime:250},a);return this.each(function(){var h=c(this),j=h.is(":hidden");j&&h.show();h.animate({top:"-="+a.distance+"px",opacity:j?1:0},a.effectTime,function(){i&&i(this)})})};c.fn.okTips=function(a){function i(){var d;0===b.length&&(b=c(a.template).appendTo(document.body).hide());a.modal&&0===g.length&&(g=c("<div id='ui-oktip-overlay'></div>").addClass(a.overlayClass).css({position:"absolute",top:0,left:0,width:"100%",height:c(document).height(),
zIndex:"1000"}).appendTo(document.body).hide());b.bind("destroy",e);d="function"==typeof a.body?a.body.call(b,f):a.body;"string"===typeof d&&b.html(d)}function h(d){var f=c(window).scrollTop(),g=c(window).width(),h,e;d.pageX+b.outerWidth()+2*a.left>=g&&(h=g-b.width()-a.left);d.pageY+2*a.top<=f&&(e=f-2*a.top);return{top:(e||d.pageY+a.top)+"px",left:(h||d.pageX+a.left)+"px"}}function j(d){var e;i();e=b.is(":visible");d=h(d);b.stop(!0).css({position:"absolute",zIndex:"9999",left:d.left,top:d.top});k();
a.beforeShow&&a.beforeShow.call(b,f);e?b.show():b.togglePuff(a,function(a){c(a).show()});a.modal&&g.show();a.afterShow&&a.afterShow.call(b,f);return b}function k(){a.modal?g.bind("click",function(a){a.preventDefault();e(a)}):a.triggerCloses?c(f).bind("mouseleave",function(a){e(a)}):b.bind("mouseenter",function(){b.unbind("mouseenter").bind("mouseleave",function(a){a.preventDefault();e(a)})});a.closeTrigger&&c(a.closeTrigger).bind("click",function(a){a.preventDefault();e(a)});return b}function e(){a.beforeDestroy&&
a.beforeDestroy.call(b,f);b.is(":visible")&&b.stop(!0).togglePuff(a,function(a){c(a).hide()});a.modal&&(b.unbind("mouseleave"),g.hide().unbind("click"));a.afterDestroy&&a.afterDestroy.call(b,f)}var b,g,f,a=c.extend({template:"<div id='ui-oktip' class='ui-tooltip'></div>",live:!1,triggerEvent:"click",closeTrigger:null,triggerCloses:!0,beforeShow:null,afterShow:null,beforeDestroy:null,afterDestroy:null,body:function(a){return"<p>"+a.title+"</p>"},top:-20,left:20,hideDelay:500,effectTime:250,distance:10,
modal:!1,overlayClass:"ui-widget-overlay"},a);return c(this.selector)[a.live?"live":"bind"](a.triggerEvent,function(a){a.preventDefault();b=c("#ui-oktip");g=c("#ui-oktip-overlay");f=this;j(a)})}})(jQuery);
