(function(b){function d(a,c){return b.extend({},b(a).offset(),{width:a.offsetWidth,height:a.offsetHeight,actualWidth:c.offsetWidth,actualHeight:c.offsetHeight})}b.fn.positionAt=function(a,c){var e,d,k,f,g,h,i;return this.each(function(){var j=b(this);b.isPlainObject(c)?e=c:("string"==typeof c?(j.css({position:"absolute"}),e=b.fn.positionAt.locations[c].call(a,this)):(c instanceof Array&&(i=c[0]||0,h=c[1]||0),d=b(window).scrollTop(),k=b(window).width(),a.currentTarget?(g=a.pageX,f=a.pageY):(a=b(a).offset(),
g=a.left,f=a.top),g+j.outerWidth()+2*i>=k&&(g=k-j.width()-i),f+2*h<=d&&(f=d-2*h),e={top:f+h,left:g+i}),e.position||(e.position="absolute"));j.css(e)})};b.fn.positionAt.locations={elementBottom:function(a){a=d(this,a);return{top:a.top+a.height,left:a.left+a.width/2-a.actualWidth/2}},elementTop:function(a){a=d(this,a);return{top:a.top-a.actualHeight,left:a.left+a.width/2-a.actualWidth/2}},elementLeft:function(a){a=d(this,a);return{top:a.top+a.height/2-a.actualHeight/2,left:a.left-a.actualWidth}},elementRight:function(a){a=
d(this,a);return{top:a.top+a.height/2-a.actualHeight/2,left:a.left+a.width}},center:function(){var a=(b(window).height()-this.offsetHeight)/2,c=(b(window).width()-this.offsetWidth)/2;return{position:b.browser.msie&&7>b.browser.version.substr(0,1)?"absolute":"fixed",margin:0,top:0<a?a:0,left:0<c?c:0}}}})(jQuery);
