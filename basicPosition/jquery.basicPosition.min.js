(function(c){function k(a,b,c){var d;d=a.width();a=a.height();var e=c.margin||10,f;!1!==c.constrain&&(d>b.width()-2*e&&(f=b.width()-2*e,a*=f/d,d=f),a>b.height()-2*e&&(f=b.height()-2*e,d*=f/a,a=f));return{width:d,height:a,top:Math.max(0,(b.height()-a)/2+(!1===c.useScrollTop?0:b.scrollTop())),left:Math.max(0,(b.width()-d)/2+(!1===c.useScrollLeft?0:b.scrollLeft()))}}function h(a,b){return c.extend({},c(a).offset(),{width:a.offsetWidth,height:a.offsetHeight,elementWidth:b.offsetWidth,elementHeight:b.offsetHeight})}
c.positionAt=function(a,b,g){var d,e,f,h=c(a),j={};"string"==typeof b&&(b=c(b));b=b instanceof jQuery?b[0]:b;"string"==typeof g?d=g:c.isPlainObject(g)&&(d=g.location,e=g);e=e||{};f=e.offsetLeft||0;g=e.offsetTop||0;d?(h.css({position:"absolute"}),j=c.positionAt.locations[d].call(b,a,e)):(a=c(window).scrollTop(),d=c(window).width(),b.currentTarget?(e=b.pageX,b=b.pageY):(b=c(b).offset(),e=b.left,b=b.top),e+h.outerWidth()+2*f>=d&&(e=d-h.width()-f),b+2*g<=a&&(b=a-2*g),j={top:b,left:e});j.top+=g;j.left+=
f;return j};c.fn.positionAt=function(a,b){return this.each(function(){c(this).css(c.positionAt(this,a,b))})};c.positionAt.locations={elementBottom:function(a){a=h(this,a);return{top:a.top+a.height,left:a.left+a.width/2-a.elementWidth/2}},elementTop:function(a){a=h(this,a);return{top:a.top-a.elementHeight,left:a.left+a.width/2-a.elementWidth/2}},elementLeft:function(a){a=h(this,a);return{top:a.top+a.height/2-a.elementHeight/2,left:a.left-a.elementWidth}},elementRight:function(a){a=h(this,a);return{top:a.top+
a.height/2-a.elementHeight/2,left:a.left+a.width}},center:function(a,b){return k(c(a),c(this),b)},centerParent:function(a,b){c.positionAt.locations.center.call(this,a,b)},centerViewport:function(a,b){return k(c(a),c(window),b)}}})(jQuery);
