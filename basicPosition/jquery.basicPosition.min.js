(function(d){function j(a,c,b){var e,f;f=b.width||a.width();e=b.height||a.height();var g="function"==typeof b.margin?b.margin(a,c,b):"number"==typeof b.margin?{x:b.margin,y:b.margin}:d.isPlainObject(b.margin)?b:{x:0,y:0};!1!==b.constrain&&(f>c.width()-2*g.x&&(b=c.width()-2*g.x,e*=b/f,f=b),e>c.height()-2*g.y&&(b=c.height()-2*g.y,f*=b/e,e=b));a="fixed"==a.css("position");return{width:f,height:e,top:Math.max(0,(c.height()-e)/2+(a?0:c.scrollTop())),left:Math.max(0,(c.width()-f)/2+(a?0:c.scrollLeft()))}}
function h(a,c,b){return d.positionAt.measure(a,function(){return d.extend({},d(c).offset(),{width:b.width||c[0].offsetWidth,height:b.height||c[0].offsetHeight,elementWidth:a[0].offsetWidth,elementHeight:a[0].offsetHeight})})}d.positionAt=function(a,c){var b,e,f;a instanceof jQuery||(a=d(a));"string"==typeof c&&(c={location:c});c=d.extend({location:"centerParent",offsetElement:a.parent()},c);e=c.location;b=c.offsetElement;"string"==typeof b&&(b=d(b));b.target&&(b=d(b.currentTarget));b.tagName&&(b=
d(b));if(!(f=d.positionAt.locations[e]))throw"No such location '"+e+"'";b=f(a,b,c);c.offset&&(b.top+=c.offset.left||0,b.left+=c.offset.top||0);return b};d.positionAt.measure=function(a,c){var b=[],e=a.parents().andSelf().filter(":hidden"),f,g;e.each(function(){g=d(this).attr("style");g="undefined"==typeof g?"":g;b.push(g);d(this).attr("style",g+" display: block !important; left:-10000; position: absolute;")});f=c(a);e.each(function(){d(this).attr("style",b.shift())});return f};d.fn.positionAt=function(a){return this.css(d.positionAt(this,
a))};d.positionAt.locations={elementBottom:function(a,c,b){a=h(a,c,b);return{top:a.top+a.height,left:a.left+a.width/2-a.elementWidth/2}},elementTop:function(a,c,b){a=h(a,c,b);return{top:a.top-a.elementHeight,left:a.left+a.width/2-a.elementWidth/2}},elementLeft:function(a,c,b){a=h(a,c,b);return{top:a.top+a.height/2-a.elementHeight/2,left:a.left-a.elementWidth}},elementRight:function(a,c,b){a=h(a,c,b);return{top:a.top+a.height/2-a.elementHeight/2,left:a.left+a.width}},centerParent:function(a,c,b){return j(d(a),
d(c),b)},centerViewport:function(a,c,b){return j(d(a),d(window),b)},fillViewport:function(a){var c=d(window).height(),b=d(window).width();a=a.width()/a.height();var e=c,f=b;b/c<a?f=c*a:e=b/a;return{width:f,height:e,left:(b-f)/2,top:(c-e)/2}}}})(jQuery);
