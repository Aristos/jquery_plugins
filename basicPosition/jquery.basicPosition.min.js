(function(d){function j(a,b){return d.extend({},d(a).offset(),{width:a.offsetWidth,height:a.offsetHeight,elementWidth:b.offsetWidth,elementHeight:b.offsetHeight})}d.positionAt=function(a,b,c){var e,f,h,i=d(a),g={},b=b instanceof jQuery?b[0]:b;"string"==typeof c?e=c:d.isPlainObject(c)&&(e=c.location,f=c);f=f||{};h=f.offsetLeft||0;c=f.offsetTop||0;e?(i.css({position:"absolute"}),g=d.positionAt.locations[e].call(b,a,f)):(a=d(window).scrollTop(),e=d(window).width(),b.currentTarget?(f=b.pageX,b=b.pageY):
(b=d(b).offset(),f=b.left,b=b.top),f+i.outerWidth()+2*h>=e&&(f=e-i.width()-h),b+2*c<=a&&(b=a-2*c),g={top:b,left:f});g.top+=c;g.left+=h;return g};d.fn.positionAt=function(a,b){return this.each(function(){d(this).css(d.positionAt(this,a,b))})};d.positionAt.locations={elementBottom:function(a){a=j(this,a);return{top:a.top+a.height,left:a.left+a.width/2-a.elementWidth/2}},elementTop:function(a){a=j(this,a);return{top:a.top-a.elementHeight,left:a.left+a.width/2-a.elementWidth/2}},elementLeft:function(a){a=
j(this,a);return{top:a.top+a.height/2-a.elementHeight/2,left:a.left-a.elementWidth}},elementRight:function(a){a=j(this,a);return{top:a.top+a.height/2-a.elementHeight/2,left:a.left+a.width}},center:function(a,b){var c=d(a),e=d(window),f=d(document),h=c.width(),c=c.height(),i=b.margin||10,g;!1!==b.constrain&&(h>e.width()-2*i&&(g=e.width()-2*i,c*=g/h,h=g),c>e.height()-2*i&&(g=e.height()-2*i,h*=g/c,c=g));return{width:h,height:c,top:Math.max(e.height()/2-c/2+f.scrollTop(),0),left:Math.max(e.width()/2-
h/2+f.scrollLeft(),0)}}}})(jQuery);
