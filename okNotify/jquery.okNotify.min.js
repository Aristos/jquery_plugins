
(function($){function addContainer(opts){var $container=$("."+opts.containerClass+"."+opts.position),styles={'top-left':{left:0,top:0},'top-right':{right:0,top:0},'bottom-right':{right:0,bottom:0},'bottom-left':{left:0,bottom:0},'center':{top:0,width:"50%",left:"25%"},'top-center':{top:0,width:"50%",left:"25%"}};if($container.length===0){$container=$('<div></div>').addClass(opts.containerClass).addClass(opts.position).css($.extend({position:opts.fixed?'fixed':'absolute',padding:'10px',zIndex:9999},styles[opts.position])).appendTo('body');}
if(opts.position=='center'){$container.center(true);}
return $container;}
function uniqueId(){return"notice_"+parseInt(new Date().getTime()+Math.random(),10);}
$.fn.center=function(absolute){return this.each(function(){var self=$(this);self.css({position:absolute?'absolute':'fixed',left:'50%',top:'50%',zIndex:'99'}).css({marginLeft:'-'+(self.outerWidth()/2)+'px',marginTop:'-'+(self.outerHeight()/2)+'px'});if(absolute){self.css({marginTop:parseInt(self.css('marginTop'),10)+$(window).scrollTop(),marginLeft:parseInt(self.css('marginLeft'),10)+$(window).scrollLeft()});}});};$.extend({noticeAdd:function(opts){opts=typeof(opts)=="string"?{text:opts}:opts;opts=$.extend(true,{inEffect:{opacity:'show'},inEffectDuration:600,duration:3000,text:'',title:'',stay:false,type:'notice',position:'top-right',containerClass:'ui-notification-container',template:'standard',fixed:false},opts);var $container,$notice=$($.noticeAdd.templates[opts.template]),text=$.trim(opts.text);$notice.attr('id',uniqueId());$.noticeAdd.notices=$.noticeAdd.notices.add($notice);$container=addContainer(opts);$('.ui-notification-title',$notice).append(opts.title);$('.ui-notification-content',$notice).append(text[0]=="<"?text:'<p>'+text+'</p>');$notice.hide().addClass(opts.type).appendTo($container).animate(opts.inEffect,opts.inEffectDuration);$('.ui-notification-close',$notice).click(function(e){e.preventDefault();$.noticeRemove($notice);});if(!opts.stay){setTimeout(function(){$.noticeRemove($notice);},opts.duration);}
return $notice;},noticeRemove:function(obj){if(obj){obj=typeof(obj)=="string"?$(obj):obj;obj.animate({opacity:'0'},600,function(){obj.animate({height:'0px'},300,function(){$.noticeAdd.notices.splice($.noticeAdd.notices.index(obj),1);obj.parent().children().length<=0?obj.parent().remove():obj.remove();});});}else{$.noticeAdd.notices.fadeOut(function(){$(this).parent().remove();$.noticeAdd.notices=$([]);});}}});$.noticeAdd.templates={standard:"<div class='ui-notification'><div class='ow'><div class='iw'><div class='ui-notification-titlebar'><span class='ui-notification-title'></span><a class='ui-notification-close' href='#'>x</a></div> <div class='ui-notification-content'> </div></div></div></div>"};$.noticeAdd.notices=$([]);})(jQuery);