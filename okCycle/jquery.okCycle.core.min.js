(function(c){c.okCycle={};c.event.special.imageloaded={add:function(b){var e=c(this);"IMG"==this.tagName&&""!==this.src&&(this.complete||4==this.readyState?b.handler.apply(this,arguments):e.bind("load.imageloaded",function(){b.handler.apply(e[0],arguments);e.unbind("load.imageloaded")}))},teardown:function(){c(this).unbind(".imageloaded")}};c.fn.okCycle=function(b){function e(){this.data(d)&&this.data(d,clearTimeout(this.data(d)));return this.data(i,!1)}function j(){var a=this.data(i,!0);return a.data(d,
setTimeout(function(){l.call(a)},b.duration))}function l(){var a=this.data(g),b=a+1;f(this,a,b==this.children().length?0:b,!0)}function o(){var a=this.data(g),b=a-1;f(this,a,0>b?this.children().length-1:b,!1)}function p(a){var b=this.data(g);f(this,b,a,a>b)}function f(a,m,e,d){var k,f={from:a.children().eq(m),to:a.children().eq(e),fromIndex:m,toIndex:e,forward:d,easing:b.easing,speed:b.speed,after:function(){b.afterMove.call(a,this);a.data(i)&&j.call(a)}};h.move.call(a.data(g,e),f);c.each(b.ui,function(){(k=
c.okCycle.ui[this])&&k.move&&k.move.call(a,a.data("ui"),f)})}var b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:500,autoplay:!1,afterSetup:function(){},afterMove:function(){}},b),h=c.okCycle[b.effect],n=[],i="animating",g="activeSlide",d="interval";return!h?(console&&console.log&&console.log("No such transition '"+b.effect+"'"),!1):this.each(function(){var a=c(this),d=c("img",a),f=0;b.ui.length&&(c.each(b.ui,function(a,b){n.push(c.okCycle.ui[b].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));
a.data(g,0);c.each(n,function(c,d){d&&d.call(a,a.data("ui"),b)});d.length?d.bind("imageloaded",function(){++f==d.length&&h.init.call(a,b)}):h.init.call(a,b);a.extend({pause:e,play:j,next:l,prev:o,moveTo:p});b.autoplay&&j.call(a);b.afterSetup.call(a)})}})(jQuery);
