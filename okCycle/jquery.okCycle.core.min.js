(function(c){c.okCycle={};c.fn.okCycle=function(b){function u(a){var b=c.inArray(a[0],this.data(g));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete this.data(g)[b])}function r(a){a=a||this;a.data(e)&&a.data(e,clearTimeout(a.data(e)));return a.data(m,!1)}function j(){var a=this.data(m,!0);return a.data(e,setTimeout(function(){n.call(a)},b.duration))}function n(){var a=this.data(h),b=a+1;return p(this,a,b==this.children().length?0:b,!0)}function s(){var a=this.data(h),
b=a-1;return p(this,a,0>b?this.children().length-1:b,!1)}function t(a){var b=this.data(h);return p(this,b,a,a>b)}function p(a,d,k,g){var f,e;!a.data(q)&&d!=k&&(a.data(q,!0),f=c.extend(c.Deferred(),{from:a.children().eq(d),to:a.children().eq(k),fromIndex:d,toIndex:k,forward:g,easing:b.easing,speed:b.speed}),b.beforeMove.call(a,f),f.done(function(){a.data(q,!1);b.afterMove.call(a,f);a.data(m)&&j.call(a)}),d=l.move.call(a.data(h,k),f),0<b.preload&&b.loadOnShow&&(d||l.to).find("img").each(function(){u.call(a,
c(this))}),c.each(b.ui,function(){(e=c.okCycle.ui[this])&&e.move&&e.move.call(a,a.data("ui"),f)}));return a}b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:300,preload:1,loadOnShow:!1,inGroupsOf:1,autoplay:!1,hoverBehavior:function(){var a=this;(this.data("ui")||a).hover(function(){a.pause()},function(){a.play()})},afterSetup:function(){},beforeMove:function(){},afterMove:function(){}},b);var l=c.okCycle[b.effect],q="animating",m="autoplaying",h="activeSlide",e="interval",g="unloaded";
if(!l)throw"No such transition '"+options.effect+"'";return this.each(function(){var a=c(this),d=!1===b.preload?c(""):c("img",a),e;b.preload&&0<b.preload&&(b.loadOnShow&&(a.data(g,[]),d.slice(b.preload).each(function(){this._src=this.src;this.src="";a.data(g).push(c(this).hide()[0])})),d=d.slice(0,b.preload));a.data(h,0);b.ui.length&&(a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()),c.each(b.ui,function(d,f){(e=c.okCycle.ui[f].init)&&e.call(a,a.data("ui"),b)}));d.imagesLoaded(function(){l.init.call(a,
b)});a.extend({pause:r,play:j,next:n,prev:s,moveTo:t});if(!0===b.autoplay||"number"==typeof b.autoPlay)setTimeout(function(){j.call(a)},isNaN(b.autoplay)?0:b.autoplay),"function"==typeof b.hoverBehavior&&b.hoverBehavior.call(a);b.afterSetup.call(a)}).extend({pause:function(a){return r.call(a||this)},play:function(a){return j.call(a||this)},next:function(a){return n.call(a||this)},prev:function(a){return s.call(a||this)},moveTo:function(){var a,b;2==arguments.length&&(a=arguments[0],b=arguments[1]);
return t.call(a||this,b)}})}})(jQuery);
