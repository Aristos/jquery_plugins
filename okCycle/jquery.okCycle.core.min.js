(function(c){c.okCycle={};c.event.special.imageloaded={add:function(b){var e=c(this);"IMG"==this.tagName&&""!==this.src&&(this.complete||4==this.readyState?b.handler.apply(this,arguments):e.bind("load.imageloaded",function(){b.handler.apply(e[0],arguments);e.unbind("load.imageloaded")}))},teardown:function(){c(this).unbind(".imageloaded")}};c.fn.okCycle=function(b){function e(){this.data(f)&&this.data(f,clearTimeout(this.data(f)));return this.data(j,!1)}function k(){var a=this.data(j,!0);return a.data(f,
setTimeout(function(){g.call(a)},b.duration))}function g(){var a=this.data(h),b=a+1;d(this,a,b==this.children().length?0:b,!0)}function n(){var a=this.data(h),b=a-1;d(this,a,0>b?this.children().length-1:b,!1)}function o(a){var b=this.data(h);d(this,b,a,a>b)}function d(a,l,e,f){var d,g={from:a.children().eq(l),to:a.children().eq(e),fromIndex:l,toIndex:e,forward:f,easing:b.easing,speed:b.speed,after:function(){b.afterMove.call(a,this);a.data(j)&&k.call(a)}};i.move.call(a.data(h,e),g);c.each(b.ui,function(){(d=
c.okCycle.ui[this])&&d.move&&d.move.call(a,a.data("ui"),g)})}var b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:500,autoplay:!1,afterSetup:function(){},afterMove:function(){}},b),i=c.okCycle[b.effect],m=[],j="animating",h="activeSlide",f="interval";return!i?(console&&console.log&&console.log("No such transition '"+b.effect+"'"),!1):this.each(function(){var a=c(this),d=c("img",a),f=0;b.ui.length&&(c.each(b.ui,function(){m.push(c.okCycle.ui[this].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));
a.data(h,0);c.each(m,function(){this&&this.call(a,a.data("ui"),b)});d.length?d.bind("imageloaded",function(){++f==d.length&&i.init.call(a,b)}):i.init.call(a,b);a.extend({pause:e,play:k,next:g,prev:n,moveTo:o});b.autoplay&&k.call(a);b.afterSetup.call(a)})}})(jQuery);
