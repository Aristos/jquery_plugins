(function(c){c.okCycle={};c.fn.okCycle=function(b){function s(a){var b=c.inArray(a[0],this.data(d));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete this.data(d)[b])}function t(){this.data(h)&&this.data(h,clearTimeout(this.data(h)));return this.data(k,!1)}function l(){var a=this.data(k,!0);return a.data(h,setTimeout(function(){q.call(a)},b.duration))}function q(){var a=this.data(f),b=a+1;m(this,a,b==this.children().length?0:b,!0)}function u(){var a=this.data(f),b=a-1;
m(this,a,0>b?this.children().length-1:b,!1)}function v(a){var b=this.data(f);m(this,b,a,a>b)}function m(a,e,j,w){if(!a.data(n)&&e!=j){a.data(n,!0);0<b.preload&&b.loadOnShow&&a.children().slice(b.inGroupsOf,2*b.inGroupsOf).find("img").each(function(){s.call(a,c(this))});var d,g=c.extend(c.Deferred(),{from:a.children().eq(e),to:a.children().eq(j),fromIndex:e,toIndex:j,forward:w,easing:b.easing,speed:b.speed});b.beforeMove.call(a,g);g.done(function(){a.data(n,!1);b.afterMove.call(a,g);a.data(k)&&l.call(a)});
p.move.call(a.data(f,j),g);c.each(b.ui,function(){(d=c.okCycle.ui[this])&&d.move&&d.move.call(a,a.data("ui"),g)})}}b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:300,preload:1,loadOnShow:!1,inGroupsOf:1,autoplay:!1,hoverBehavior:function(){var a=this;(this.data("ui")||a).hover(function(){a.pause()},function(){a.play()})},afterSetup:function(){},beforeMove:function(){},afterMove:function(){}},b);var p=c.okCycle[b.effect],r=[],n="animating",k="autoplaying",f="activeSlide",h="interval",
d="unloaded";return!p?(console&&console.log&&console.log("No such transition '"+b.effect+"'"),!1):this.each(function(){var a=c(this),e=!1===b.preload?c(""):c("img",a);b.preload&&0<b.preload&&(b.loadOnShow&&(a.data(d,[]),e.slice(b.preload).each(function(){this._src=this.src;this.src="";a.data(d).push(c(this).hide()[0])})),e=e.slice(0,b.preload));b.ui.length&&(c.each(b.ui,function(a,b){r.push(c.okCycle.ui[b].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));a.data(f,0);c.each(r,function(c,
d){d&&d.call(a,a.data("ui"),b)});e.imagesLoaded(function(){p.init.call(a,b)});a.extend({pause:t,play:l,next:q,prev:u,moveTo:v});if(!0===b.autoplay||"number"==typeof b.autoPlay)setTimeout(function(){l.call(a)},isNaN(b.autoplay)?0:b.autoplay),"function"==typeof b.hoverBehavior&&b.hoverBehavior.call(a);b.afterSetup.call(a)})}})(jQuery);
