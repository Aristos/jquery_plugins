(function(c){c.okCycle={};c.fn.okCycle=function(b){function r(a){var b=c.inArray(a[0],this.data(d));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete this.data(d)[b])}function s(){this.data(f)&&this.data(f,clearTimeout(this.data(f)));return this.data(j,!1)}function k(){var a=this.data(j,!0);return a.data(f,setTimeout(function(){p.call(a)},b.duration))}function p(){var a=this.data(g),b=a+1;l(this,a,b==this.children().length?0:b,!0)}function t(){var a=this.data(g),b=a-1;
l(this,a,0>b?this.children().length-1:b,!1)}function u(a){var b=this.data(g);l(this,b,a,a>b)}function l(a,e,h,v){if(!a.data(m)&&e!=h){a.data(m,!0);0<b.preload&&b.loadOnShow&&a.children().slice(b.inGroupsOf,2*b.inGroupsOf).find("img").each(function(){r.call(a,c(this))});var d,f={from:a.children().eq(e),to:a.children().eq(h),fromIndex:e,toIndex:h,forward:v,easing:b.easing,speed:b.speed,after:function(){a.data(m,!1);b.afterMove.call(a,this);a.data(j)&&k.call(a)}};n.move.call(a.data(g,h),f);c.each(b.ui,
function(){(d=c.okCycle.ui[this])&&d.move&&d.move.call(a,a.data("ui"),f)})}}b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:300,preload:1,loadOnShow:!1,inGroupsOf:1,autoplay:!1,hoverBehavior:function(){var a=this;(this.data("ui")||a).hover(function(){a.pause()},function(){a.play()})},afterSetup:function(){},afterMove:function(){}},b);var n=c.okCycle[b.effect],q=[],m="animating",j="autoplaying",g="activeSlide",f="interval",d="unloaded";return!n?(console&&console.log&&console.log("No such transition '"+
b.effect+"'"),!1):this.each(function(){var a=c(this),e=c("img",a);0<b.preload&&(b.loadOnShow&&(a.data(d,[]),e.slice(b.preload).each(function(){this._src=this.src;this.src="";a.data(d).push(c(this).hide()[0])})),e=e.slice(0,b.preload));b.ui.length&&(c.each(b.ui,function(a,b){q.push(c.okCycle.ui[b].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));a.data(g,0);c.each(q,function(c,d){d&&d.call(a,a.data("ui"),b)});e.imagesLoaded(function(){n.init.call(a,b)});a.extend({pause:s,play:k,next:p,
prev:t,moveTo:u});if(!0===b.autoplay||"number"==typeof b.autoPlay)setTimeout(function(){k.call(a)},isNaN(b.autoplay)?0:b.autoplay),"function"==typeof b.hoverBehavior&&b.hoverBehavior.call(a);b.afterSetup.call(a)})}})(jQuery);
