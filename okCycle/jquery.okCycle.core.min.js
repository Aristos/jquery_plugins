(function(c){c.okCycle={};c.fn.okCycle=function(b){function p(a){var b=c.inArray(a[0],this.data(e));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete e[b])}function m(){this.data(d)&&this.data(d,clearTimeout(this.data(d)))}function q(){m.call(this);return this.data(h,!1)}function i(){var a=this.data(h,!0);return a.data(d,setTimeout(function(){n.call(a)},b.duration))}function n(){var a=this.data(f),b=a+1;j(this,a,b==this.children().length?0:b,!0)}function r(){var a=this.data(f),
b=a-1;j(this,a,0>b?this.children().length-1:b,!1)}function s(a){var b=this.data(f);j(this,b,a,a>b)}function j(a,l,g,t){m.call(a);0<b.preload&&b.loadOnShow&&p.call(a,a.children().eq(g).find("img"));var e,d={from:a.children().eq(l),to:a.children().eq(g),fromIndex:l,toIndex:g,forward:t,easing:b.easing,speed:b.speed,after:function(){b.afterMove.call(a,this);a.data(h)&&i.call(a)}};k.move.call(a.data(f,g),d);c.each(b.ui,function(){(e=c.okCycle.ui[this])&&e.move&&e.move.call(a,a.data("ui"),d)})}var b=c.extend({effect:"scroll",
easing:"swing",ui:[],duration:2E3,speed:500,preload:1,loadOnShow:!1,autoplay:!1,afterSetup:function(){},afterMove:function(){}},b),k=c.okCycle[b.effect],o=[],h="animating",f="activeSlide",d="interval",e="unloaded";return!k?(console&&console.log&&console.log("No such transition '"+b.effect+"'"),!1):this.each(function(){var a=c(this),d=c("img",a);0<b.preload&&(b.loadOnShow&&(a.data(e,[]),d.slice(b.preload).each(function(){this._src=this.src;this.src="";a.data(e).push(c(this).hide()[0])})),d=d.slice(0,
b.preload));b.ui.length&&(c.each(b.ui,function(a,b){o.push(c.okCycle.ui[b].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));a.data(f,0);c.each(o,function(c,d){d&&d.call(a,a.data("ui"),b)});d.imagesLoaded(function(){k.init.call(a,b)});a.extend({pause:q,play:i,next:n,prev:r,moveTo:s});b.autoplay&&i.call(a);b.afterSetup.call(a)})}})(jQuery);
