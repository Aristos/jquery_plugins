(function(c){c.okCycle={};c.fn.okCycle=function(b){function p(a){var b=c.inArray(a[0],this.data(d));-1<b&&(a.imagesLoaded(function(){c(this).fadeIn()}),a[0].src=a[0]._src,delete this.data(d)[b])}function q(){this.data(f)&&this.data(f,clearTimeout(this.data(f)));return this.data(i,!1)}function j(){var a=this.data(i,!0);return a.data(f,setTimeout(function(){n.call(a)},b.duration))}function n(){var a=this.data(g),b=a+1;k(this,a,b==this.children().length?0:b,!0)}function r(){var a=this.data(g),b=a-1;
k(this,a,0>b?this.children().length-1:b,!1)}function s(a){var b=this.data(g);k(this,b,a,a>b)}function k(a,e,h,t){if(!a.data(l)&&e!=h){a.data(l,!0);0<b.preload&&b.loadOnShow&&p.call(a,a.children().eq(h).find("img"));var d,f={from:a.children().eq(e),to:a.children().eq(h),fromIndex:e,toIndex:h,forward:t,easing:b.easing,speed:b.speed,after:function(){a.data(l,!1);b.afterMove.call(a,this);a.data(i)&&j.call(a)}};m.move.call(a.data(g,h),f);c.each(b.ui,function(){(d=c.okCycle.ui[this])&&d.move&&d.move.call(a,
a.data("ui"),f)})}}var b=c.extend({effect:"scroll",easing:"swing",ui:[],duration:2E3,speed:300,preload:1,loadOnShow:!1,autoplay:!1,afterSetup:function(){},afterMove:function(){}},b),m=c.okCycle[b.effect],o=[],l="animating",i="autoplaying",g="activeSlide",f="interval",d="unloaded";return!m?(console&&console.log&&console.log("No such transition '"+b.effect+"'"),!1):this.each(function(){var a=c(this),e=c("img",a);0<b.preload&&(b.loadOnShow&&(a.data(d,[]),e.slice(b.preload).each(function(){this._src=
this.src;this.src="";a.data(d).push(c(this).hide()[0])})),e=e.slice(0,b.preload));b.ui.length&&(c.each(b.ui,function(a,b){o.push(c.okCycle.ui[b].init)}),a.data("ui",a.wrap("<div class='okCycle-ui'/>").parent()));a.data(g,0);c.each(o,function(c,d){d&&d.call(a,a.data("ui"),b)});e.imagesLoaded(function(){m.init.call(a,b)});a.extend({pause:q,play:j,next:n,prev:r,moveTo:s});b.autoplay&&j.call(a);b.afterSetup.call(a)})}})(jQuery);
